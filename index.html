<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>MyPetBnB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- CSS: Bootstrap, Select2, Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="newstyle.css">

  <style>
    :root {
      --footer-bg: #F9F5EE;
      --footer-text: #1f2937;
      --muted: #6b7280;
      --link: #0d6efd;
      --brand: #EA624E;
      --brand-2: #FD9140;
      --tab-bg: #fde9e5;
      /* soft container behind pills (matches ref) */
      --tab-pill: #f4b6ad;
      /* soft active pill base */
    }

    nav{
      background-color: white;
    }

    .navbar-brand img {
      width: 115px;
      height: 70px
    }

    .btn-primary-color {
      background-color: var(--brand) !important;
      color: #fff
    }

    .btn:hover {
      color: #fff !important;
      background-color: var(--brand) !important
    }

    .banner-head-title {
      color: var(--brand) !important
    }

    .head-text {
      color: var(--brand-2) !important
    }

    .site-footer {
      background: var(--footer-bg);
      color: var(--footer-text);
      border-top: 1px solid #e5e7eb
    }

    .site-footer a {
      color: var(--footer-text);
      text-decoration: none
    }

    .site-footer a:hover {
      text-decoration: underline
    }

    .footer-title {
      font-weight: 700;
      font-size: 1.125rem;
      margin-bottom: .75rem
    }

    .subtext {
      color: var(--muted);
      font-size: .95rem
    }

    .smallprint {
      color: var(--muted);
      font-size: .9rem
    }

    /* HERO / card */
    .hero-form-card {
      min-height: 520px;
      background: #fff;
      border: 1px solid #eef0f2;
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, .08), 0 2px 6px rgba(0, 0, 0, .06)
    }

    .hero-form-card .form-control,
    .hero-form-card .form-select {
      height: 46px;
      border-radius: 12px
    }

    .select2-container {
      width: 100% !important
    }

    /* ===== Segmented Tabs (Material look) ===== */
    .seg-tabs {
      display: flex;
      gap: 10px;
      background: var(--tab-bg);
      border-radius: 999px;
      padding: 6px;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .seg-tabs .btn {
      flex: 1 1 0;
      border: none;
      background: transparent;
      color: #6c2e28;
      /* muted maroon like ref */
      border-radius: 999px;
      font-weight: 600;
      height: 42px;
    }

    .seg-tabs .btn.active {
      background: var(--tab-pill);
      color: #fff;
      box-shadow: 0 1px 0 rgba(0, 0, 0, .05) inset;
    }

    .seg-tabs .btn:focus {
      outline: none;
      box-shadow: none
    }

    .role-pane {
      display: none
    }

    .role-pane.active {
      display: block
    }

    /* 2 per row layout */
    .grid-2 .col-12 {
      margin-bottom: 12px
    }

    @media (min-width:576px) {
      .grid-2 .col-12 {
        margin-bottom: 14px
      }
    }

    /* Mobile hero image rules kept concise */
    .mobile-img {
      display: none
    }

    @media (max-width:600px) {
      .mobile-img {
        display: block
      }

      .desktop-img {
        display: none
      }
    }

  
    /* ===== COLORS (keep your brand) ===== */
    :root {
      --footer-bg: #F9F5EE;
      --footer-text: #1f2937;
      --muted: #6b7280;
      --link: #0d6efd;
      --brand: #EA624E;
      /* red */
      --brand-2: #FD9140;
      /* ORANGE (active) */
      --tab-bg: #FFF1E6;
      /* soft orange background behind pills */
      --tab-pill: var(--brand-2);
      /* active pill color */
    }

    /* Show only one form: desktop OR mobile */
    .d-desktop-card {
      display: block
    }

    .d-mobile-card {
      display: none
    }

    @media (max-width:991.98px) {
      .d-desktop-card {
        display: none
      }

      .d-mobile-card {
        display: block
      }
    }

    /* Segmented tabs (desktop + mobile look) */
    .seg-tabs,
    .role-toggle {
      position: relative;
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      background: var(--tab-bg);
      border-radius: 999px;
      padding: 6px;
      margin-bottom: 16px;
    }

    .seg-tabs .btn,
    .role-toggle .btn {
      flex: 1 1 0;
      border: none;
      background: transparent;
      color: #7a3a00;
      border-radius: 999px;
      font-weight: 600;
      height: 42px;
      position: relative;
      z-index: 1;
    }

    .seg-tabs .btn.active,
    .role-toggle .btn.active {
      color: #fff;
    }

    .seg-tabs .seg-indicator {
      position: absolute;
      top: 6px;
      bottom: 6px;
      left: 6px;
      width: 33.3333%;
      border-radius: 999px;
      background: var(--tab-pill);
      box-shadow: 0 1px 0 rgba(0, 0, 0, .05) inset;
      transition: transform .25s ease, width .25s ease;
    }


    /* Mobile radios: keep checked state orange even if JS is off */
    .role-toggle .btn-check:checked+.btn {
      background: var(--tab-pill);
      color: #fff;
    }

    /* Keep your previous rules */
    .hero-form-card {
      background: #fff;
      border: 1px solid #eef0f2;
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, .08), 0 2px 6px rgba(0, 0, 0, .06)
    }

    .hero-form-card .form-control,
    .hero-form-card .form-select {
      height: 46px;
      border-radius: 12px
    }

    .select2-container {
      width: 100% !important
    }

    .role-pane {
      display: none
    }

    .role-pane.active {
      display: block
    }

    .grid-2 .col-12 {
      margin-bottom: 12px
    }

    @media (min-width:576px) {
      .grid-2 .col-12 {
        margin-bottom: 14px
      }
    }
    

    .mobile-img {
      display: none
    }

    @media (max-width:600px) {
      .mobile-img {
        display: block
      }

      .desktop-img {
        display: none
      }
    }
  </style>

  <style>
    /* Keep only ONE orange slider (desktop tabs). Mobile uses radio ‘active’ class instead */
    .role-toggle .seg-indicator {
      display: none !important;
    }

    /* Prevent form overflow on tablet/desktop */
    @media (min-width: 768px) {
      .hero-form-card {
        max-height: 75vh;
        overflow: auto;
      }
    }
  </style>

  <style>
    /* --- Keep hero copy fixed near the top & stop vertical re-centering --- */
    .hero-section .info-container .row {
      align-items: flex-start !important;
    }

    @media (min-width: 992px) {
      .hero-section .info {
        position: sticky;
        top: 72px;
      }
    }

     @media (max-width:1240px) {
      .hero-form-card {
        min-height: 437px;
      }
    }
    

    /* --- Lock the desktop form width and visual consistency --- */
    @media (min-width: 992px) {

      /* same visual width across panes */
      .d-desktop-card .hero-form-card {
        width: 100%;
        max-width: 520px;
        /* keep constant */
        margin-left: auto;
        margin-right: auto;
      }
    }

    /* --- Prevent “background moving” from height changes --- */
    .hero-form-card {
      /* reserve height so panes don't push/pull layout */
      /* safe baseline */
      scrollbar-gutter: stable both-edges;
      /* avoid page width jump when scroll appears */
      overflow-y: auto;
      /* internal scroll if needed */
      will-change: transform;
      /* reduce micro-jitter during indicator move */
    }

    /* --- Segmented control: indicator never affects layout --- */
    .seg-tabs {
      position: relative;
    }

    .seg-tabs .seg-indicator {
      position: absolute;
      inset: 6px auto 6px 6px;
      height: calc(100% - 12px);
      z-index: 0;
      /* behind buttons */
      pointer-events: none;
      transition: transform .22s ease, width .22s ease;
    }

    .seg-tabs .btn {
      position: relative;
      z-index: 1;
    }

    /* --- Make each pane take the same space (no jump) --- */
    .role-pane {
      display: none;
    }

    .role-pane.active {
      display: block;
    }
  </style>

  <style>
    /* Align service provider fields neatly */
    [data-pane="provider"] .form-text {
      font-size: 0.85rem;
      margin-top: 4px;
    }

    [data-pane="provider"] textarea {
      min-height: 80px;
    }
  </style>

  <style>
    /* ===== 1) Single brand color only ===== */
    :root {
      --brand: #EA624E !important;
      --brand-2: #EA624E !important;
      /* force everything to same color */
      --tab-bg: #ffffff !important;
      /* neutral */
      --tab-pill: #EA624E !important;
      /* active fill */
    }

    /* ===== 2) Desktop (≥992px) should look like the mobile toggle ===== */
    @media (min-width: 992px) {

      /* Use the same “outlined buttons that fill when active” pattern */
      .seg-tabs {
        background: #fff !important;
        border: 1px solid rgba(234, 98, 78, .35) !important;
        border-radius: 999px !important;
        padding: 6px !important;
        gap: 10px !important;
        position: relative !important;
      }

      /* kill the sliding indicator entirely so it can’t overlay */
      .seg-tabs .seg-indicator {
        display: none !important;
      }

      .seg-tabs .btn {
        background: transparent !important;
        border: 1px solid transparent !important;
        /* outline is on the container */
        color: var(--brand) !important;
        font-weight: 600 !important;
        height: 42px !important;
        border-radius: 999px !important;
        position: relative !important;
        z-index: 1 !important;
      }

      .seg-tabs .btn.active {
        background: var(--brand) !important;
        color: #fff !important;
      }

      /* Make headings and CTAs use only the brand */
      .banner-head-title,
      .head-text {
        color: var(--brand) !important;
      }

      .btn-primary-color {
        background: var(--brand) !important;
        border-color: var(--brand) !important;
        color: #fff !important;
      }

      .btn-outline-danger {
        color: var(--brand) !important;
        border-color: var(--brand) !important;
      }

      .btn-outline-danger:hover {
        background: var(--brand) !important;
        color: #fff !important;
      }


      

      /* .hero-section .hero-img{ width:100%; height:auto; display:block; } */
    }

    /* RESET old rules — allow Personal details to toggle normally */
.accordion-button[data-bs-target*="Personal"],
.accordion-button[aria-controls*="Personal"] {
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Show the Bootstrap chevron again */
.accordion-button[data-bs-target*="Personal"]::after,
.accordion-button[aria-controls*="Personal"]::after {
  display: inline-block !important;
}

/* Optional: make open/active accordion headers stand out */
.accordion-button:not(.collapsed) {
  color: #EA624E; /* your brand color */
  font-weight: 700;
  background-color: #fff;
  box-shadow: none;
}

/* Optional: hover effect for inactive accordions */
.accordion-button.collapsed:hover {
  color: #EA624E;
}

/* Smooth transitions for accordion panels */
.accordion-collapse {
  transition: height 0.35s ease;
}

<style>
/* Make Select2 show Bootstrap invalid state */
.select2-container--default .select2-selection--single.is-invalid,
.select2-container--default .select2-selection--multiple.is-invalid {
  border-color: #dc3545 !important;
  padding-right: calc(1.5em + .75rem);
  background-image: none;
}
</style>

  </style>

  


</head>

<body>
  <!-- NAV -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white px-5 nav-sticky fixed-top sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html"><img src="./assets/logo/petbnb-LOGO.png" alt="PetBnB Logo"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain"><span
          class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="navbarMain">
        <ul class="navbar-nav nav-links mb-2 mb-lg-0">
          <li class="nav-item d-flex align-items-center"><a class="nav-link" href="about-us.html">About Us</a></li>
          <li class="nav-item d-flex align-items-center"><a class="nav-link" href="contact-us.html">Contact</a></li>
          <li class="nav-item d-flex align-items-center"><a class="nav-link" href="./contact-us.html#FAQs">FAQ's</a>
          </li>
          <li class="nav-item d-flex align-items-center"><a class="nav-link" href="blog.html">Blog</a></li>
        </ul>
        <div class="nav-cta-wrap ms-lg-0">
          <a class="btn btn-primary-color rounded-pill fw-semibold d-none d-lg-inline-block px-4 py-3"
            href="https://forms.gle/5aNmE97MRYUBZzqJ6">Register</a>
          <a class="nav-link d-lg-none" href="https://forms.gle/5aNmE97MRYUBZzqJ6">Register</a>
        </div>
      </div>
    </div>
  </nav>


  <!-- HERO -->
  <section class="hero-section">
    <div class="img-wrapper">
      <img src="./assets/images/home-banner-img.jpg" alt="MyPetBnB" class="hero-img desktop-img">
      <img src="./assets/images/mobile-home-banner.jpg" alt="MyPetBnB Mobile" class="hero-img mobile-img">
    </div>

    <div class="info-container">
      <div class="container">
        <div class="row align-items-center justify-content-between">
          <div class="col-lg-6 col-xl-7 mb-4 mb-lg-0">
            <div class="info py-5">
              <h1 class="banner-head-title mb-2">Loving pet care in your neighborhood</h1>
              <h2 class="banner-head-title fw-normal mb-4">Book trusted pet sitters, walkers and trainers</h2>
              <!-- <a class="btn btn-outline-danger" href="https://forms.gle/5aNmE97MRYUBZzqJ6">Register</a> -->
              <div class="nav-cta-wrap ms-lg-0">
          <a class="btn btn-primary-color rounded-pill fw-semibold px-4 py-3" href="https://forms.gle/5aNmE97MRYUBZzqJ6">Register</a>
          
        </div>
            </div>
          </div>



          <!-- Desktop in-hero form -->
          <div class="col-lg-6 col-xl-5 d-desktop-card">
            <form id="unifiedSearchFormDesktop" class="hero-form-card" novalidate>
              <!-- Segmented Tabs -->
              <div class="seg-tabs" data-tabs>
                <button type="button" class="btn active" data-role-btn value="parent">Pet Parent</button>
                <button type="button" class="btn" data-role-btn value="host">Pet Host</button>
                <button type="button" class="btn" data-role-btn value="provider">Services</button>
              </div>

              <!-- PANE: Pet Parent (default active) -->
<div class="role-pane active" data-pane="parent">
  <!-- FAQ-style collapses just for PET PARENT -->
  <div class="accordion faq-accordion mb-3" id="ppAccordion">

    <!-- PERSONAL -->
    <div class="accordion-item mb-2">
      <h2 class="accordion-header" id="ppPersonalHead">
        <button class="accordion-button" type="button" data-bs-toggle="collapse"
          data-bs-target="#ppPersonal" aria-expanded="true" aria-controls="ppPersonal">
          Personal details
        </button>
      </h2>
      <div id="ppPersonal" class="accordion-collapse collapse show" aria-labelledby="ppPersonalHead"
        data-bs-parent="#ppAccordion">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Full Name</label> -->
              <input type="text" class="form-control" data-role="pp_name" placeholder="Your full name" required>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Email</label> -->
              <input type="email" class="form-control" data-role="pp_email" placeholder="Email" required>
            </div>
          </div>
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Locality / Area</label> -->
              <input type="text" class="form-control" data-role="location" placeholder="Locality" required>
              <div class="invalid-feedback">Enter a location.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PET & PREFERENCES (includes Service now) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="ppProHead">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#ppPro" aria-expanded="false" aria-controls="ppPro">
          Pet & preferences
        </button>
      </h2>
      <div id="ppPro" class="accordion-collapse collapse" aria-labelledby="ppProHead"
        data-bs-parent="#ppAccordion">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">How many pets?</label> -->
              <select class="form-select" data-role="pets" required>
                <option value="" selected disabled>Pet No.</option>
                <option>1</option><option>2</option><option>3</option><option>4</option><option>5+</option>
              </select>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Pet Type</label> -->
              <select class="form-select" data-role="pp_type" required>
                <option value="" selected disabled>Pet type</option>
                <option>Dog</option><option>Cat</option><option>Other</option>
              </select>
            </div>
          </div>
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Breed</label> -->
              <input type="text" class="form-control" data-role="pp_breed" placeholder="Breed">
            </div>
            <!-- Moved service here -->
          <div class="col-12 col-md-6 mb-3">
            <!-- <label class="form-label fw-semibold">Which service do you need?</label> -->
            <select class="form-select" data-role="service" required>
              <option value="" selected disabled>Choose a service</option>
              <option value="boarding">Boarding • in the sitter’s home</option>
              <option value="walking">Dog Walking</option>
              <option value="training">Training</option>
            </select>
            <div class="invalid-feedback">Please choose a service.</div>
          </div>
          </div>

          

          <!-- Date vs time -->
          <div class="mb-3" data-role="dateRange">
            <label class="form-label fw-semibold">Which dates do you need?</label>
            <div class="row g-2">
              <div class="col-6"><input type="date" class="form-control" data-role="from"></div>
              <div class="col-6"><input type="date" class="form-control" data-role="to"></div>
            </div>
          </div>

          <div class="row g-2 mb-3 d-none" data-role="timeBlock">
            <div class="col-6">
              <label class="form-label fw-semibold">Date</label>
              <input type="date" class="form-control" data-role="walkDate">
            </div>
            <div class="col-6">
              <label class="form-label fw-semibold">Time</label>
              <input type="time" class="form-control" data-role="walkTime">
            </div>
          </div>
        </div>
      </div>
    </div>

  </div><!-- /accordion -->
</div>




              <!-- PANE: Pet Host (accordion) -->
<div class="role-pane" data-pane="host">
  <div class="accordion faq-accordion mb-3" id="hostAccordion">

    <!-- PERSONAL (open) -->
    <div class="accordion-item mb-2">
      <h2 class="accordion-header" id="hostPersonalHead">
        <button class="accordion-button" type="button" data-bs-toggle="collapse"
          data-bs-target="#hostPersonal" aria-expanded="true" aria-controls="hostPersonal">
          Personal details
        </button>
      </h2>
      <div id="hostPersonal" class="accordion-collapse collapse show" aria-labelledby="hostPersonalHead"
        data-bs-parent="#hostAccordion">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Full Name</label> -->
              <input type="text" class="form-control" data-role="host_name" placeholder="Your full name" required>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Email</label> -->
              <input type="email" class="form-control" data-role="host_email" placeholder="Email" required>
            </div>
          </div>
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Locality / Area</label> -->
              <!-- data-role="location" is required by your submit validator -->
              <input type="text" class="form-control" data-role="location"
                     placeholder="Locality"
                     oninput="this.nextElementSibling.value=this.value">
              <!-- keep host_locality for URL params -->
              <input type="hidden" data-role="host_locality">
              
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- HOSTING PROFILE (includes service) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="hostProfileHead">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#hostProfile" aria-expanded="false" aria-controls="hostProfile">
          Hosting profile & offerings
        </button>
      </h2>
      <div id="hostProfile" class="accordion-collapse collapse" aria-labelledby="hostProfileHead"
        data-bs-parent="#hostAccordion">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Hosting Experience</label> -->
              <select class="form-select" data-role="host_experience" required>
                <option value="" selected disabled>Hosting Experience</option>
                <option>Beginner</option>
                <option>1–2 years</option>
                <option>3+ years</option>
              </select>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Daily Rate (₹)</label> -->
              <input type="number" class="form-control" data-role="host_rate"
                     placeholder="Price per day/night" min="0" required>
            </div>
            
          </div>

          <!-- Primary service (needed for validator) -->
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Which service do you offer?</label> -->
            <select class="form-select" data-role="service" required>
              <option value="" selected disabled>Choose a service</option>
              <option value="boarding">Boarding</option>
              <option value="daycare">Day Care</option>
              <option value="grooming">Grooming</option>
            </select>
            <div class="invalid-feedback">Please choose a service.</div>
          </div>

          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <label class="form-label fw-semibold">Home Photos Upload</label>
              <input type="file" class="form-control" data-role="host_photos" multiple accept="image/*">
              
            </div>
            <div class="col-12 col-md-6 mb-3">
              <label class="form-label fw-semibold">Pet Types You Host</label>
              <select class="form-select select2" multiple data-role="host_pet_types" required>
                <option value="" selected disabled>Pet Types You Host</option>
                <option>Dogs</option>
                <option>Cats</option>
                <option>Both</option>
              </select>
            </div>
          </div>

          <!-- no date/time blocks for host (updateFields will safely skip) -->
        </div>
      </div>
    </div>

  </div>
</div>


<!-- PANE: Service Provider (accordion) -->
<div class="role-pane" data-pane="provider">
  <div class="accordion faq-accordion mb-3" id="spAccordion">

    <!-- PERSONAL (open) -->
    <div class="accordion-item mb-2">
      <h2 class="accordion-header" id="spPersonalHead">
        <button class="accordion-button" type="button" data-bs-toggle="collapse"
          data-bs-target="#spPersonal" aria-expanded="true" aria-controls="spPersonal">
          Personal details
        </button>
      </h2>
      <div id="spPersonal" class="accordion-collapse collapse show" aria-labelledby="spPersonalHead"
        data-bs-parent="#spAccordion">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Full Name</label> -->
              <input type="text" class="form-control" data-role="sp_name" placeholder="Your full name" required>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Email</label> -->
              <input type="email" class="form-control" data-role="sp_email" placeholder="Email" required>
            </div>
          </div>
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Operating Locality / Area</label> -->
              <!-- validator expects data-role="location" -->
              <input type="text" class="form-control" data-role="location" placeholder="e.g., Borivali West" required>
              <div class="invalid-feedback">Locality</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PROFILE & OFFERINGS (includes service) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="spProHead">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#spPro" aria-expanded="false" aria-controls="spPro">
          Profile & offerings
        </button>
      </h2>
      <div id="spPro" class="accordion-collapse collapse" aria-labelledby="spProHead"
        data-bs-parent="#spAccordion">
        <div class="accordion-body">
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Which service do you offer?</label> -->
            <select class="form-select" data-role="service" required>
              <option value="" selected disabled>Choose a service</option>
              <option value="walking">Dog Walking</option>
              <option value="training">Training</option>
              <option value="grooming">Grooming</option>
            </select>
            <div class="invalid-feedback">Please choose a service.</div>
          </div>

          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Experience Level</label> -->
              <select class="form-select" data-role="sp_experience" required>
                <option value="" selected disabled>Experience Level</option>
                <option>Beginner</option>
                <option>1–2 years</option>
                <option>3+ years</option>
              </select>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Service Radius (km)</label> -->
              <input type="number" class="form-control" data-role="sp_radius" placeholder="Service Radius (km)" min="1" max="25">
              
            </div>
          </div>

          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Availability Slots</label> -->
              <select class="form-select" data-role="sp_availability">
                <option value="" selected disabled>Availability Slots</option>
                <option>Morning</option>
                <option>Evening</option>
                <option>Flexible</option>
              </select>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <!-- <label class="form-label fw-semibold">Rate per Session (₹)</label> -->
              <input type="number" class="form-control" data-role="sp_rate" placeholder="Rate per Session (₹)" min="0" required>
              
            </div>
          </div>

          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <label class="form-label fw-semibold">Certification (if any)</label>
              <input type="file" class="form-control" data-role="sp_cert_file" accept=".pdf,.jpg,.png,.jpeg">
              
            </div>
            <div class="col-12 col-md-6 mb-3">
              <label class="form-label fw-semibold">Profile Photo &amp; ID Proof</label>
              <input type="file" class="form-control" data-role="sp_id_proof" multiple accept="image/*,.pdf">
             
            </div>
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Reviews / References</label> -->
            <textarea class="form-control" rows="2" data-role="sp_reviews"
              placeholder="Reviews / References"></textarea>
          </div>

          <!-- no date/time blocks needed here -->
        </div>
      </div>
    </div>

  </div>
</div>



              <button class="btn btn-primary-color w-100 py-2 fw-bold" type="submit">Search</button>
              <input type="hidden" name="selectedRole" value="parent" data-role="selectedRole">
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Progressive cards (hidden by default) — unchanged -->
    <div class="pet-selector-container pb-3 d-none">
      <div class="services-selection-section py-4">
        <div class="container">
          <div class="row g-4">
            <!-- Boarding card -->
            <div class="col-md-4">
              <div class="selection-section p-3 bg-white shadow rounded-4">
                <h3 class="mb-3 text-primary services-selection-section-title">Boarding</h3>

                <div class="mb-3">
                  <label for="breed" class="form-label">Breed Name</label>
                  <select id="breed" class="form-select select2 w-100" multiple>
                    <option value="">Select Breed</option>
                    <option>Labrador Retriever</option>
                    <option>German Shepherd</option>
                    <option>Golden Retriever</option>
                    <option>Pug</option>
                    <option>Beagle</option>
                    <option>Bulldog</option>
                    <option>Dachshund</option>
                    <option>Rottweiler</option>
                    <option>Shih Tzu</option>
                    <option>Siberian Husky</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="location" class="form-label">Boarding Location</label>
                  <input type="text" class="form-control progressive-trigger" id="location"
                    placeholder="Enter area or city">
                </div>

                <div class="progressive-extra">
                  <div class="row g-2 mb-3">
                    <div class="col">
                      <label for="fromDate" class="form-label">From Date</label>
                      <input type="date" class="form-control" id="fromDate">
                    </div>
                    <div class="col">
                      <label for="toDate" class="form-label">To Date</label>
                      <input type="date" class="form-control" id="toDate">
                    </div>
                  </div>

                  <div class="row g-2 mb-3">
                    <div class="col">
                      <label for="boardingInTime" class="form-label">Drop-Off</label>
                      <select id="boardingInTime" class="form-select">
                        <option value="">Check-in time?</option>
                        <option>07:00 AM</option>
                        <option>08:00 AM</option>
                        <option>09:00 AM</option>
                        <option>10:00 AM</option>
                        <option>11:00 AM</option>
                        <option>12:00 AM</option>
                        <option>01:00 PM</option>
                        <option>02:00 PM</option>
                        <option>03:00 PM</option>
                        <option>04:00 PM</option>
                        <option>05:00 PM</option>
                      </select>
                    </div>
                    <div class="col">
                      <label for="boardingOutTime" class="form-label">Pick-Up</label>
                      <select id="boardingOutTime" class="form-select">
                        <option value="">Check-out time?</option>
                        <option>07:00 AM</option>
                        <option>08:00 AM</option>
                        <option>09:00 AM</option>
                        <option>10:00 AM</option>
                        <option>11:00 AM</option>
                        <option>12:00 AM</option>
                        <option>01:00 PM</option>
                        <option>02:00 PM</option>
                        <option>03:00 PM</option>
                        <option>04:00 PM</option>
                        <option>05:00 PM</option>
                        <option>06:00 PM</option>
                        <option>07:00 PM</option>
                        <option>08:00 PM</option>
                        <option>09:00 PM</option>
                      </select>
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="boardingAge" class="form-label">Dog age</label>
                    <select id="boardingAge" class="form-select">
                      <option value="any">Any</option>
                      <option value="puppy">Puppy (&lt; 1 year)</option>
                      <option value="adult">Adult (1–7 years)</option>
                      <option value="senior">Senior (8+ years)</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label class="form-label">Dogs</label>
                    <div class="d-flex align-items-center gap-2">
                      <button type="button" class="btn btn-light border px-3" onclick="decrementBoarding()">−</button>
                      <span id="boardingDogCount" class="fw-semibold">0</span>
                      <button type="button" class="incre-decre-btns px-3" onclick="incrementBoarding()">+</button>
                    </div>
                  </div>
                </div>

                <div class="d-grid gap-2">
                  <button class="btn btn-primary-color" onclick="goToSearchSitters()">Search Sitters</button>
                  <button class="btn btn-outline-secondary" type="button" onclick="resetSection(this)">Reset</button>
                </div>
              </div>
            </div>

            <!-- Walking card -->
            <div class="col-md-4">
              <div class="selection-section p-3 bg-white shadow rounded-4 h-100">
                <h3 class="mb-3 text-success services-selection-section-title">Dog Walking</h3>

                <div class="mb-3">
                  <label for="breed-walking" class="form-label">Breed Name</label>
                  <select id="breed-walking" class="form-select select2">
                    <option value="">Select Breed</option>
                    <option>Labrador Retriever</option>
                    <option>German Shepherd</option>
                    <option>Golden Retriever</option>
                    <option>Pug</option>
                    <option>Beagle</option>
                    <option>Bulldog</option>
                    <option>Dachshund</option>
                    <option>Rottweiler</option>
                    <option>Shih Tzu</option>
                    <option>Siberian Husky</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="location-walking" class="form-label">Preferred Walking Area</label>
                  <input type="text" class="form-control progressive-trigger" id="location-walking"
                    placeholder="Enter your location">
                </div>

                <div class="progressive-extra">
                  <div class="row g-2 mb-3">
                    <div class="col">
                      <label for="walkFromTime" class="form-label">Preferred Start Time</label>
                      <input type="time" class="form-control" id="walkFromTime">
                    </div>
                    <div class="col">
                      <label for="walkToTime" class="form-label">Preferred End Time</label>
                      <input type="time" class="form-control" id="walkToTime">
                    </div>
                  </div>

                  <div class="row g-2 mb-3">
                    <div class="col">
                      <label for="walkFromDate" class="form-label">From Date</label>
                      <input type="date" class="form-control" id="walkFromDate">
                    </div>
                    <div class="col">
                      <label for="walkToDate" class="form-label">To Date</label>
                      <input type="date" class="form-control" id="walkToDate">
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="walkDuration" class="form-label">Walk Duration</label>
                    <select class="form-select" id="walkDuration">
                      <option value="">Select duration</option>
                      <option>15 minutes</option>
                      <option>30 minutes</option>
                      <option>60 minutes</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label class="form-label">No. of Dogs</label>
                    <div class="d-flex align-items-center gap-2">
                      <button type="button" class="btn btn-light border px-3" onclick="decrementWalking()">−</button>
                      <span id="walkingDogCount" class="fw-semibold">0</span>
                      <button type="button" class="px-3 incre-decre-btns" onclick="incrementWalking()">+</button>
                    </div>
                  </div>
                </div>

                <div class="d-grid gap-2">
                  <button class="btn btn-primary-color" onclick="goToSearchWalkers()">Search Walkers</button>
                  <button class="btn btn-outline-secondary" type="button" onclick="resetSection(this)">Reset</button>
                </div>
              </div>
            </div>

            <!-- Training card -->
            <div class="col-md-4">
              <div class="selection-section p-3 bg-white shadow rounded-4 h-100">
                <h3 class="mb-3 text-warning services-selection-section-title">Training</h3>

                <div class="mb-3">
                  <label for="breed-training" class="form-label">Breed Name</label>
                  <select id="breed-training" class="form-select select2">
                    <option value="">Select Breed</option>
                    <option>Labrador Retriever</option>
                    <option>German Shepherd</option>
                    <option>Golden Retriever</option>
                    <option>Pug</option>
                    <option>Beagle</option>
                    <option>Bulldog</option>
                    <option>Dachshund</option>
                    <option>Rottweiler</option>
                    <option>Shih Tzu</option>
                    <option>Siberian Husky</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="dogAge" class="form-label">Dog's Age</label>
                  <input type="number" class="form-control progressive-trigger" id="dogAge"
                    placeholder="In months or years">
                </div>

                <div class="progressive-extra">
                  <div class="mb-3">
                    <label for="relationship" class="form-label">How long have you been with your dog?</label>
                    <input type="text" class="form-control" id="relationship" placeholder="e.g. 1 year, 3 months">
                  </div>
                </div>

                <div class="d-grid gap-2">
                  <button class="btn text-white btn-primary-color">Start Training</button>
                  <button class="btn btn-outline-secondary" type="button" onclick="resetSection(this)">Reset</button>
                </div>
              </div>
            </div>

          </div> <!-- row -->
        </div>
      </div>
    </div>
  </section>

  <!-- MOBILE/TABLET unified form -->
  <div class="container d-mobile-card">
    <form id="unifiedSearchFormMobile" class="mobile-hero-form hero-form-card mt-3" novalidate>
      <!-- NEW: Role Toggle -->
      <div class="role-toggle btn-group w-100" role="group" aria-label="Role toggle">
        <input type="radio" class="btn-check" name="roleMob" id="roleMobParent" autocomplete="off" value="parent"
          checked>
        <label class="btn btn-outline-secondary w-100" for="roleMobParent">Pet Parent</label>
        <input type="radio" class="btn-check" name="roleMob" id="roleMobHost" autocomplete="off" value="host">
        <label class="btn btn-outline-secondary w-100" for="roleMobHost">Pet Host</label>
        <input type="radio" class="btn-check" name="roleMob" id="roleMobProvider" autocomplete="off" value="provider">
        <label class="btn btn-outline-secondary w-100" for="roleMobProvider">Service Provider</label>
      </div>

      <!-- panes (same fields for now) -->
<!-- panes (same fields for now) -->
<div class="role-pane active" data-pane="parent">
  <!-- FAQ-style collapses just for PET PARENT -->
  <div class="accordion faq-accordion mb-3" id="ppAccordionMob">

    <!-- PERSONAL -->
    <div class="accordion-item mb-2">
      <h2 class="accordion-header" id="ppPersonalHeadMob">
        <button class="accordion-button" type="button"
          data-bs-toggle="collapse"
          data-bs-target="#ppPersonalMob"
          aria-expanded="true"
          aria-controls="ppPersonalMob">
          Personal details
        </button>
      </h2>
      <div id="ppPersonalMob"
           class="accordion-collapse collapse show"
           aria-labelledby="ppPersonalHeadMob"
           data-bs-parent="#ppAccordionMob">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <input type="text" class="form-control" data-role="pp_name" placeholder="Your full name" required>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <input type="email" class="form-control" data-role="pp_email" placeholder="Email" required>
            </div>
          </div>
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <input type="text" class="form-control" data-role="location" placeholder="Locality" required>
              <div class="invalid-feedback">Enter a location.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PET & PREFERENCES -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="ppProHeadMob">
        <button class="accordion-button collapsed" type="button"
          data-bs-toggle="collapse"
          data-bs-target="#ppProMob"
          aria-expanded="false"
          aria-controls="ppProMob">
          Pet & preferences
        </button>
      </h2>
      <div id="ppProMob"
           class="accordion-collapse collapse"
           aria-labelledby="ppProHeadMob"
           data-bs-parent="#ppAccordionMob">
        <div class="accordion-body">
          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <select class="form-select" data-role="pets" required>
                <option value="" selected disabled>Pet No.</option>
                <option>1</option><option>2</option><option>3</option><option>4</option><option>5+</option>
              </select>
            </div>
            <div class="col-12 col-md-6 mb-3">
              <select class="form-select" data-role="pp_type" required>
                <option value="" selected disabled>Pet type</option>
                <option>Dog</option><option>Cat</option><option>Other</option>
              </select>
            </div>
          </div>

          <div class="row g-2">
            <div class="col-12 col-md-6 mb-3">
              <input type="text" class="form-control" data-role="pp_breed" placeholder="Breed">
            </div>
          </div>

          <div class="mb-3">
            <select class="form-select" data-role="service" required>
              <option value="" selected disabled>Choose a service</option>
              <option value="boarding">Boarding • in the sitter’s home</option>
              <option value="walking">Dog Walking</option>
              <option value="training">Training</option>
            </select>
            <div class="invalid-feedback">Please choose a service.</div>
          </div>

          <div class="mb-3" data-role="dateRange">
            <label class="form-label fw-semibold">Which dates do you need?</label>
            <div class="row g-2">
              <div class="col-6"><input type="date" class="form-control" data-role="from"></div>
              <div class="col-6"><input type="date" class="form-control" data-role="to"></div>
            </div>
          </div>

          <div class="row g-2 mb-3 d-none" data-role="timeBlock">
            <div class="col-6">
              <label class="form-label fw-semibold">Date</label>
              <input type="date" class="form-control" data-role="walkDate">
            </div>
            <div class="col-6">
              <label class="form-label fw-semibold">Time</label>
              <input type="time" class="form-control" data-role="walkTime">
            </div>
          </div>
        </div>
      </div>
    </div>

  </div><!-- /accordion -->
</div>



<!-- PANE: Pet Host (accordion) -->
<div class="role-pane" data-pane="host">
  <div class="accordion faq-accordion mb-3" id="hostAccordionMob">

    <div class="accordion-item mb-2">
      <h2 class="accordion-header" id="hostPersonalHeadMob">
        <button class="accordion-button" type="button" data-bs-toggle="collapse"
          data-bs-target="#hostPersonalMob" aria-expanded="true" aria-controls="hostPersonalMob">
          Personal details
        </button>
      </h2>
      <div id="hostPersonalMob" class="accordion-collapse collapse show" aria-labelledby="hostPersonalHeadMob"
        data-bs-parent="#hostAccordionMob">
        <div class="accordion-body">
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Full Name</label> -->
            <input type="text" class="form-control" data-role="host_name" placeholder="Your full name" required>
          </div>
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Email</label> -->
            <input type="email" class="form-control" data-role="host_email" placeholder="Email" required>
          </div>
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Locality / Area</label> -->
            <input type="text" class="form-control" data-role="location"
                   placeholder="Locality"
                   oninput="this.nextElementSibling.value=this.value">
            <input type="hidden" data-role="host_locality">
            
          </div>
        </div>
      </div>
    </div>

    <div class="accordion-item">
      <h2 class="accordion-header" id="hostProfileHeadMob">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#hostProfileMob" aria-expanded="false" aria-controls="hostProfileMob">
          Hosting profile & offerings
        </button>
      </h2>
      <div id="hostProfileMob" class="accordion-collapse collapse" aria-labelledby="hostProfileHeadMob"
        data-bs-parent="#hostAccordionMob">
        <div class="accordion-body">
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Hosting Experience</label> -->
            <select class="form-select" data-role="host_experience" required>
              <option value="" selected disabled>Hosting experience</option>
              <option>Beginner</option>
              <option>1–2 years</option>
              <option>3+ years</option>
            </select>
          </div>
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Pet Types You Host</label> -->
            <select class="form-select select2" multiple data-role="host_pet_types" required>
              <option value="" selected disabled>Pet Types You Host</option>
              <option>Dogs</option>
              <option>Cats</option>
              <option>Both</option>
            </select>
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Which service do you offer?</label> -->
            <select class="form-select" data-role="service" required>
              <option value="" selected disabled>Choose a service</option>
              <option value="boarding">Boarding</option>
              <option value="daycare">Day Care</option>
              <option value="grooming">Grooming</option>
            </select>
            <div class="invalid-feedback">Please choose a service.</div>
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">Home Photos Upload</label>
            <input type="file" class="form-control" placeholder="Home Photos Upload" data-role="host_photos" multiple accept="image/*">
          </div>
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Daily Rate (₹)</label> -->
            <input type="number" class="form-control" data-role="host_rate" placeholder="Price per day/night" min="0" required>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>


<div class="role-pane" data-pane="provider">
  <div class="accordion faq-accordion mb-3" id="spAccordionMob">

    <div class="accordion-item mb-2">
      <h2 class="accordion-header" id="spPersonalHeadMob">
        <button class="accordion-button" type="button" data-bs-toggle="collapse"
          data-bs-target="#spPersonalMob" aria-expanded="true" aria-controls="spPersonalMob">
          Personal details
        </button>
      </h2>
      <div id="spPersonalMob" class="accordion-collapse collapse show" aria-labelledby="spPersonalHeadMob"
        data-bs-parent="#spAccordionMob">
        <div class="accordion-body">
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Full Name</label> -->
            <input type="text" class="form-control" data-role="sp_name" placeholder="Your full name" required>
          </div>
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Email</label> -->
            <input type="email" class="form-control" data-role="sp_email" placeholder="Email" required>
          </div>
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Operating Locality / Area</label> -->
            <input type="text" class="form-control" data-role="location" placeholder="Locality" required>
            <div class="invalid-feedback">Enter a location.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="accordion-item">
      <h2 class="accordion-header" id="spProHeadMob">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#spProMob" aria-expanded="false" aria-controls="spProMob">
          Profile & offerings
        </button>
      </h2>
      <div id="spProMob" class="accordion-collapse collapse" aria-labelledby="spProHeadMob"
        data-bs-parent="#spAccordionMob">
        <div class="accordion-body">
          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Which service do you offer?</label> -->
            <select class="form-select" data-role="service" required>
              <option value="" selected disabled>Choose a service</option>
              <option value="walking">Dog Walking</option>
              <option value="training">Training</option>
              <option value="grooming">Grooming</option>
            </select>
            <div class="invalid-feedback">Please choose a service.</div>
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Experience Level</label> -->
            <select class="form-select" data-role="sp_experience" required>
              <option value="" selected disabled>Experience level</option>
              <option>Beginner</option>
              <option>1–2 years</option>
              <option>3+ years</option>
            </select>
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Service Radius (km)</label> -->
            <input type="number" class="form-control" data-role="sp_radius" placeholder="Service Radius (km)" min="1" max="25">
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Availability Slots</label> -->
            <select class="form-select" data-role="sp_availability">
              <option value="" selected disabled>Availability slot</option>
              <option>Morning</option>
              <option>Evening</option>
              <option>Flexible</option>
            </select>
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Rate per Session (₹)</label> -->
            <input type="number" class="form-control" data-role="sp_rate" placeholder="Rate per Session (₹)" min="0" required>
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">Certification (if any)</label>
            <input type="file" class="form-control" data-role="sp_cert_file" accept=".pdf,.jpg,.png,.jpeg" placeholder="Certification (if any)">
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">Profile Photo &amp; ID Proof</label>
            <input type="file" class="form-control" placeholder="Profile Photo &amp; ID Proof" data-role="sp_id_proof" multiple accept="image/*,.pdf">
          </div>

          <div class="mb-3">
            <!-- <label class="form-label fw-semibold">Reviews / References</label> -->
            <textarea class="form-control" rows="2" data-role="sp_reviews"
              placeholder="Reviews / References"></textarea>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>




      <button class="btn btn-primary-color w-100 py-2 fw-bold" type="submit">Search</button>
      <input type="hidden" name="selectedRole" value="parent" data-role="selectedRole">
    </form>
  </div>

  <!-- WHAT WE DO (unchanged) -->
  <section class="wwd-wrap py-5 py-lg-6">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-lg-7">
          <h2 class="fw-bold mb-3">MyPetBnB Home - Away from Home</h2>
          <p class="text-muted fs-5 mb-2"><span class="fw-bold">With Love & Care</span> - PetBnB connects loving sitters
            with caring pet parents, right in the neighborhood.</p>
          <p class="text-muted fs-5 mb-2"><span class="fw-bold">Trusted & Verified</span> - Verified profiles,
            transparent reviews, and secure bookings keep tails wagging.</p>
          <p class="text-muted fs-5 mb-4"><span class="fw-bold">You bring the cuddles</span> - we’ll handle the match,
            the safety checks, and the smooth bookings.</p>
          <a href="contact-us.html" class="btn btn-primary-color px-4 py-3 rounded-pill fw-semibold">CONTACT US</a>
        </div>
        <div class="col-lg-5">
          <div class="wwd-img-wrap">
            <img src="assets/images/what-we-do-img.jpg" alt="Happy pets with sitters" class="wwd-img">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SERVICES (unchanged) -->
  <section class="about-services-for-you-section" id="about">
    <div class="container">
      <div class="services-for-you-section-title mt-5">
        <h2 class="head-text"> Services </h2>
      </div>

      <div class="services-for-you-section mt-5">
        <div class="boarding-section services-section row">
          <div class="services-for-you-img-section col-md-6">
            <img src="assets/images/dog-services-imgs/boarding-img.jpg" alt="Dog Boarding">
          </div>
          <div class="boarding-content col-md-6">
            <h3 class="head-text">Boarding</h3>
            <p>With MyPetBnB, dog boarding is no longer about cages or kennels, it’s about comfort and care. When you book through our platform, you’re directly connected to trusted dog sitters in your neighbourhood who welcome pups into their own homes.</p>
            <p>Your dog enjoys a safe environment with their own comfortable spot, daily walks, playtime and the warmth of a family setting. Whether you’re away for a few days or an extended holiday, you can travel worry-free knowing your furry friend is in loving hands.</p>
            <div class="nav-cta-wrap ms-lg-0">
          <a class="btn btn-primary-color rounded-pill fw-semibold px-4 py-3 service-cta"
   href="#"
   data-go-role="host">Register</a>
          
        </div>
          </div>
        </div>

        <div class="walking-section services-section row">
          <div class="services-for-you-img-section col-md-6">
            <img src="assets/images/dog-services-imgs/walking-dog-img.jpg" alt="Dog Walking">
          </div>
          <div class="walking-content col-md-6">
            <h3 class="head-text">Walking</h3>
            <p>Daily walks are essential for a dog’s health and happiness but city life doesn’t always leave time for them. That’s why we connect you with compassionate, experienced dog walkers nearby who make every stroll safe, fun and engaging.</p>
            <p>From quick neighbourhood rounds to long park strolls, your pup will enjoy exercise, stimulation and socialisation. With GPS tracking and live updates, you’ll always know your dog is getting the care and activity they deserve.</p>
            <div class="nav-cta-wrap ms-lg-0">
          <a class="btn btn-primary-color rounded-pill fw-semibold px-4 py-3 service-cta"
   href="#"
   data-go-role="provider">Register</a>
          
        </div>
          </div>
        </div>

        <div class="sitting-section services-section row">
          <div class="services-for-you-img-section col-md-6">
            <img src="assets/images/dog-services-imgs/sitting-img.jpg" alt="Dog Sitting">
          </div>
          <div class="sitting-content col-md-6">
            <h3 class="head-text">Sitting</h3>
            <p>Some dogs feel most comfortable in their own space. Our dog sitting service ensures they’re cared for right at home. Whether you’re working late, out for dinner or away for the weekend, a trusted sitter comes to your home to feed, walk, play and comfort your pup.</p>
            <p>Regular photo and video updates keep you connected, while sitters follow your instructions to the last detail; ensuring safety, consistency and peace of mind.</p>
            <div class="nav-cta-wrap ms-lg-0">
          <a class="btn btn-primary-color rounded-pill fw-semibold px-4 py-3 service-cta"
   href="#"
   data-go-role="provider">Register</a>
          
        </div>
          </div>
        </div>

        <div class="Training-section services-section row">
          <div class="services-for-you-img-section col-md-6">
            <img src="assets/images/dog-services-imgs/training.jpg" alt="Dog Training">
          </div>
          <div class="Training-content col-md-6">
            <h3 class="head-text">Training</h3>
            <p>Good behaviour makes life easier for both dogs and parents. Through MyPetBnB, you can connect with experienced trainers who use positive reinforcement to teach obedience, leash manners and social skills.</p>
            <p>Whether it’s basic puppy training, correcting habits or addressing specific challenges, our trainers help your dog learn in a safe and supportive way. With regular progress updates, you’ll see your pup grow into their best self.</p>
            <div class="nav-cta-wrap ms-lg-0">
          <a class="btn btn-primary-color rounded-pill fw-semibold px-4 py-3 service-cta"
   href="#"
   data-go-role="provider">Register</a>

          
        </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER (unchanged) -->
  <footer class="site-footer py-5">
    <div class="container">
      <div class="row gy-5">
        <div class="col-12 col-lg-5">
          <div class="footer-title head-text">All the pet care tips you need—right to your inbox</div>
          <p class="subtext">Receive the latest adorable pet photos, care tips, training advice, product
            recommendations, and more.</p>
          <form class="newsletter-wrap mt-2" action="#" method="post">
            <div class="input-group">
              <input type="email" class="form-control" placeholder="Your email…" aria-label="Your email" required>
              <button class="btn btn-outline-dark" type="submit">Sign up</button>
            </div>
          </form>
          <p class="smallprint mt-3 mb-0">
            By providing my email address, I consent to receive marketing communications from PetBnB.com...
            <a style="color:var(--link)" href="privacy.html">Privacy Statement</a>.
          </p>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <div class="footer-title head-text">Learn More</div>
          <ul class="footer-list">
            <li><a href="blog.html">Read Our Blog</a></li>
          </ul>
          <div class="mt-3">
            <a class="privacy-pill" href="privacy.html"><i class="fa-solid fa-check"></i> Your privacy choices</a>
          </div>
        </div>

        <div class="col-12 col-sm-6 col-lg-4">
          <div class="footer-title head-text">About Us</div>
          <div class="row about-grid g-0">
            <div class="col-6 pe-4">
              <ul class="footer-list mb-0">
                <li><a href="about-us.html">About Us</a></li>
                <li><a href="contact-us.html">Contact Us</a></li>
              </ul>
            </div>
            <div class="col-6">
              <ul class="footer-list mb-0">
                <li><a href="privacy.html">Privacy<br>Statement</a></li>
                <li><a href="terms-of-service.html">Terms of Service</a></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-12">
          <div class="d-flex flex-wrap align-items-center justify-content-between pt-2 mt-2 border-top">
            <div class="social my-2">
              <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
              <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
            </div>
            <div class="smallprint text-center text-md-end mt-3">
              © 2025 A Place for PetBnB, Inc. All Rights Reserved.
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- JS: jQuery, Bootstrap, Select2 -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <script>
    // ---------------- Select2 (keep as-is if already loaded) ----------------
    $(function () {
      $('.select2').select2({
        placeholder: "Select",
        allowClear: true,
        width: '100%',
        tags: false
      });
    });

    // ---------------- Counters (unchanged) ----------------
    let boardingCount = 0, walkingCount = 0;
    function updateBoardingDisplay() { const el = document.getElementById('boardingDogCount'); if (el) el.innerText = boardingCount; }
    function updateWalkingDisplay() { const el = document.getElementById('walkingDogCount'); if (el) el.innerText = walkingCount; }
    function incrementBoarding() { boardingCount++; updateBoardingDisplay(); }
    function decrementBoarding() { if (boardingCount > 0) { boardingCount--; updateBoardingDisplay(); } }
    function incrementWalking() { walkingCount++; updateWalkingDisplay(); }
    function decrementWalking() { if (walkingCount > 0) { walkingCount--; updateWalkingDisplay(); } }
    updateBoardingDisplay(); updateWalkingDisplay();

    // ---------------- Progressive cards (unchanged) ----------------
    function unlockAll() {
      document.querySelectorAll('.selection-section').forEach(sec => {
        sec.classList.remove('is-disabled');
        const extra = sec.querySelector('.progressive-extra');
        const trigger = sec.querySelector('.progressive-trigger');
        if (extra && trigger && !String(trigger.value || '').trim()) { extra.classList.add('d-none'); }
      });
      window.__activeSection = null;
    }
    function resetSection(btn) {
      const section = btn.closest('.selection-section'); if (!section) return;
      section.querySelectorAll('input,select,textarea').forEach(el => {
        if (el.type === 'checkbox' || el.type === 'radio') { el.checked = false; } else { el.value = ''; }
        if (window.jQuery && jQuery(el).hasClass('select2')) { jQuery(el).val(null).trigger('change'); }
      });
      if (section.querySelector('#boardingDogCount')) { boardingCount = 0; updateBoardingDisplay(); }
      if (section.querySelector('#walkingDogCount')) { walkingCount = 0; updateWalkingDisplay(); }
      const extra = section.querySelector('.progressive-extra'); if (extra) extra.classList.add('d-none');
      unlockAll();
    }
    (function () {
      window.__activeSection = null;
      function lockOthers(current) { document.querySelectorAll('.selection-section').forEach(sec => { if (sec !== current) sec.classList.add('is-disabled'); }); }
      function initProgressive(section) {
        const extra = section.querySelector('.progressive-extra');
        const trigger = section.querySelector('.progressive-trigger');
        if (!extra || !trigger) return;
        if (!String(trigger.value || '').trim()) extra.classList.add('d-none');
        const reveal = () => {
          if (window.__activeSection && window.__activeSection !== section) return;
          window.__activeSection = section; extra.classList.remove('d-none'); lockOthers(section);
        };
        trigger.addEventListener('focus', reveal, { once: true });
        trigger.addEventListener('input', () => { if (String(trigger.value || '').trim()) reveal(); });
        trigger.addEventListener('change', reveal);
        if (window.jQuery && jQuery(trigger).hasClass('select2')) { jQuery(trigger).on('select2:select change', reveal); }
      }
      document.addEventListener('DOMContentLoaded', () => { document.querySelectorAll('.selection-section').forEach(initProgressive); });
    })();

    // ---------------- Unified form wiring (desktop + mobile) ----------------

function wireUnifiedForm(formId) {
  const form = document.getElementById(formId); if (!form) return;

  // ----- Helpers -----
  const panes = Array.from(form.querySelectorAll('.role-pane'));
  const hiddenRole = form.querySelector('[data-role="selectedRole"]');

  const desktopTabs = form.querySelector('[data-tabs]');
  const desktopBtns = desktopTabs ? Array.from(desktopTabs.querySelectorAll('[data-role-btn]')) : [];
  let moveIndicator = () => {};
  if (desktopTabs && desktopBtns.length) {
    moveIndicator = setupSlidingTabs(
      desktopTabs,
      desktopBtns,
      () => Math.max(0, desktopBtns.findIndex(b => b.classList.contains('active')))
    );
  }

  const radios = Array.from(form.querySelectorAll('.btn-check[name^="role"]'));
  const labels = radios.map(r => form.querySelector(`label[for="${r.id}"]`)).filter(Boolean);

  function getActivePane() { return form.querySelector('.role-pane.active') || form; }
  function $inPane(sel) {
    const pane = getActivePane();
    return pane ? pane.querySelector(sel) : form.querySelector(sel);
  }

  function openAccordionFor(el) {
    const panel = el?.closest('.accordion-collapse');
    if (panel) {
      const inst = bootstrap.Collapse.getOrCreateInstance(panel, { toggle: false });
      inst.show();
    }
  }

  function scrollToEl(el, offset = 88) {
    if (!el) return;
    const y = el.getBoundingClientRect().top + window.pageYOffset - offset;
    window.scrollTo({ top: y, behavior: 'smooth' });
  }

  function setRole(role) {
    panes.forEach(p => p.classList.toggle('active', p.getAttribute('data-pane') === role));
    if (hiddenRole) hiddenRole.value = role;
    desktopBtns.forEach(btn => btn.classList.toggle('active', btn.value === role));
    const activeBtn = desktopBtns.find(b => b.value === role);
    if (activeBtn) moveIndicator(activeBtn);
    radios.forEach((r, i) => {
      if (r.value === role) r.checked = true;
      if (labels[i]) labels[i].classList.toggle('active', radios[i].checked);
    });
    updateFields();
  }

  // Expose to other scripts (you already use these)
  form._setUnifiedRole = setRole;
  form._selectService = (serviceValue) => {
    const pane = form.querySelector('.role-pane.active');
    if (!pane) return;
    const sel = pane.querySelector('[data-role="service"]');
    if (sel && serviceValue) {
      sel.value = serviceValue;
      sel.dispatchEvent(new Event('change', { bubbles: true }));
    }
  };

  // Show Date vs Time depending on service
  function updateFields() {
    const service = $inPane('[data-role="service"]');
    const dateRange = $inPane('[data-role="dateRange"]');
    const timeBlock = $inPane('[data-role="timeBlock"]');
    if (!service) return;
    if (service.value === 'walking') {
      if (dateRange) dateRange.classList.add('d-none');
      if (timeBlock) timeBlock.classList.remove('d-none');
    } else {
      if (timeBlock) timeBlock.classList.add('d-none');
      if (dateRange) dateRange.classList.remove('d-none');
    }
  }

  function setDateDefaults() {
    const fromI = $inPane('[data-role="from"]');
    const toI = $inPane('[data-role="to"]');
    const walkDate = $inPane('[data-role="walkDate"]');
    const todayISO = new Date().toISOString().split('T')[0];
    const tomorrowISO = new Date(Date.now() + 86400000).toISOString().split('T')[0];
    if (fromI && !fromI.value) fromI.value = todayISO;
    if (toI && !toI.value) toI.value = tomorrowISO;
    if (walkDate && !walkDate.value) walkDate.value = todayISO;
  }

  // ----- Validation helpers -----
  function markInvalid(input, message) {
    if (!input) return;
    // Native validity message if present
    if (typeof input.setCustomValidity === 'function') {
      input.setCustomValidity(message || 'Invalid');
    }
    input.classList.add('is-invalid');

    // Select2: add invalid to its visible selection too
    if (window.jQuery && jQuery(input).hasClass('select2')) {
      const $sel = jQuery(input).siblings('.select2').find('.select2-selection');
      $sel.addClass('is-invalid');
    }

    // Attach/update feedback text if .invalid-feedback sibling exists
    const fb = input.parentElement?.querySelector('.invalid-feedback');
    if (fb && message) fb.textContent = message;
  }

  function clearInvalid(input) {
    if (!input) return;
    if (typeof input.setCustomValidity === 'function') input.setCustomValidity('');
    input.classList.remove('is-invalid');

    if (window.jQuery && jQuery(input).hasClass('select2')) {
      const $sel = jQuery(input).siblings('.select2').find('.select2-selection');
      $sel.removeClass('is-invalid');
    }
  }

  function firstInvalidWithin(container) {
    return container.querySelector('.is-invalid, :invalid');
  }

  function validEmail(value) {
    if (!value) return false;
    return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(value);
  }

  function validateActivePane() {
    const pane = getActivePane();
    const role = hiddenRole?.value || 'parent';
    let ok = true;

    // Common fields by role
    const svc = pane.querySelector('[data-role="service"]');
    const loc = pane.querySelector('[data-role="location"]');

    // Reset previous errors
    pane.querySelectorAll('.is-invalid').forEach(el => clearInvalid(el));

    // Role-specific blocks
    if (role === 'parent') {
      const name = pane.querySelector('[data-role="pp_name"]');
      const email = pane.querySelector('[data-role="pp_email"]');
      const pets = pane.querySelector('[data-role="pets"]');
      const type = pane.querySelector('[data-role="pp_type"]');

      if (!name?.value.trim()) { ok = false; markInvalid(name, 'Your full name is required.'); }
      if (!email?.value.trim() || !validEmail(email.value.trim())) { ok = false; markInvalid(email, 'Enter a valid email.'); }
      if (!loc?.value.trim()) { ok = false; markInvalid(loc, 'Enter a location.'); }
      if (!svc?.value) { ok = false; markInvalid(svc, 'Please choose a service.'); }
      if (!pets?.value) { ok = false; markInvalid(pets, 'Select number of pets.'); }
      if (!type?.value) { ok = false; markInvalid(type, 'Select pet type.'); }

      if (svc?.value === 'walking') {
        const d = pane.querySelector('[data-role="walkDate"]');
        const t = pane.querySelector('[data-role="walkTime"]');
        if (!d?.value) { ok = false; markInvalid(d, 'Select a date.'); }
        if (!t?.value) { ok = false; markInvalid(t, 'Select a time.'); }
      } else {
        const fromI = pane.querySelector('[data-role="from"]');
        const toI   = pane.querySelector('[data-role="to"]');
        if (!fromI?.value) { ok = false; markInvalid(fromI, 'Pick a start date.'); }
        if (!toI?.value)   { ok = false; markInvalid(toI, 'Pick an end date.'); }
        if (fromI?.value && toI?.value && toI.value < fromI.value) {
          ok = false; markInvalid(toI, 'End date must be after start date.');
        }
      }
    }

    if (role === 'host') {
      const name = pane.querySelector('[data-role="host_name"]');
      const email = pane.querySelector('[data-role="host_email"]');
      const exp = pane.querySelector('[data-role="host_experience"]');
      const rate = pane.querySelector('[data-role="host_rate"]');
      const petTypes = pane.querySelector('[data-role="host_pet_types"]');

      if (!name?.value.trim()) { ok = false; markInvalid(name, 'Your full name is required.'); }
      if (!email?.value.trim() || !validEmail(email.value.trim())) { ok = false; markInvalid(email, 'Enter a valid email.'); }
      // location is optional in your HTML for host but we treat it as required UX-wise:
      const locVisible = pane.querySelector('input[data-role="location"]');
      if (!locVisible?.value.trim()) { ok = false; markInvalid(locVisible, 'Enter your locality.'); }

      if (!exp?.value) { ok = false; markInvalid(exp, 'Select hosting experience.'); }
      if (!svc?.value) { ok = false; markInvalid(svc, 'Please choose a primary service.'); }

      // Select2 multiple must have at least one
      if (petTypes) {
        const hasAny = petTypes.selectedOptions && petTypes.selectedOptions.length > 0;
        if (!hasAny) { ok = false; markInvalid(petTypes, 'Select pet types you host.'); }
      }

      if (!rate?.value || Number(rate.value) <= 0) {
        ok = false; markInvalid(rate, 'Enter a valid positive price.');
      }
    }

    if (role === 'provider') {
      const name = pane.querySelector('[data-role="sp_name"]');
      const email = pane.querySelector('[data-role="sp_email"]');
      const exp = pane.querySelector('[data-role="sp_experience"]');
      const rate = pane.querySelector('[data-role="sp_rate"]');
      const radius = pane.querySelector('[data-role="sp_radius"]');

      if (!name?.value.trim()) { ok = false; markInvalid(name, 'Your full name is required.'); }
      if (!email?.value.trim() || !validEmail(email.value.trim())) { ok = false; markInvalid(email, 'Enter a valid email.'); }
      if (!loc?.value.trim()) { ok = false; markInvalid(loc, 'Enter your operating locality.'); }
      if (!svc?.value) { ok = false; markInvalid(svc, 'Please choose a service.'); }
      if (!exp?.value) { ok = false; markInvalid(exp, 'Select experience level.'); }
      if (!rate?.value || Number(rate.value) < 0) { ok = false; markInvalid(rate, 'Enter a valid rate.'); }
      if (radius?.value && (Number(radius.value) < 1 || Number(radius.value) > 25)) {
        ok = false; markInvalid(radius, 'Radius must be between 1–25 km.');
      }
    }

    // If any invalid, open its accordion and scroll to it
    if (!ok) {
      const firstBad = firstInvalidWithin(pane) || pane.querySelector('.is-invalid');
      if (firstBad) {
        openAccordionFor(firstBad);
        setTimeout(() => scrollToEl(firstBad, 88), 60);
      }
    }
    return ok;
  }

  // Event wiring
  desktopBtns.forEach(btn => btn.addEventListener('click', () => setRole(btn.value)));
  radios.forEach(r => r.addEventListener('change', () => setRole(r.value)));

  form.addEventListener('change', (e) => {
    if (e.target && e.target.matches('[data-role="service"]')) updateFields();
    if (e.target && e.target.classList.contains('btn-check') && e.target.name.startsWith('role')) {
      setDateDefaults(); updateFields();
    }
    // Live clear invalid on input/change
    if (e.target && (e.target.matches('input,select,textarea'))) {
      clearInvalid(e.target);
    }
  });

  const defaultRole = (radios.find(r => r.checked)?.value) || 'parent';
  setRole(defaultRole);
  setDateDefaults();
  updateFields();

  // ----- Enhanced submit: validate, then route -----
  form.addEventListener('submit', function (e) {
    e.preventDefault();
    if (!validateActivePane()) return;

    // Build querystring (unchanged from your logic)
    const pane = getActivePane();
    const role = form.querySelector('[data-role="selectedRole"]')?.value || 'parent';
    const service = pane.querySelector('[data-role="service"]');
    const locationI = pane.querySelector('[data-role="location"]');
    const fromI = pane.querySelector('[data-role="from"]');
    const toI = pane.querySelector('[data-role="to"]');
    const walkDate = pane.querySelector('[data-role="walkDate"]');
    const walkTime = pane.querySelector('[data-role="walkTime"]');
    const pets = pane.querySelector('[data-role="pets"]');

    const ROUTES = { boarding: 'search_sitter_2.html', walking: 'search_walkers_2.html', training: 'search_training.html' };
    const base = ROUTES[service.value] || 'search.html';
    const params = new URLSearchParams();
    params.set('role', role);
    params.set('location', (locationI?.value || '').trim());
    if (pets?.value) params.set('pets', pets.value);

    // Parent fields
    const nameI = pane.querySelector('[data-role="pp_name"]');
    const emailI = pane.querySelector('[data-role="pp_email"]');
    const typeI = pane.querySelector('[data-role="pp_type"]');
    const breedI = pane.querySelector('[data-role="pp_breed"]');
    if (nameI?.value) params.set('name', nameI.value.trim());
    if (emailI?.value) params.set('email', emailI.value.trim());
    if (typeI?.value) params.set('petType', typeI.value);
    if (breedI?.value) params.set('breed', breedI.value.trim());

    // Host fields
    const hostName = pane.querySelector('[data-role="host_name"]');
    const hostEmail = pane.querySelector('[data-role="host_email"]');
    const hostLocal = pane.querySelector('[data-role="host_locality"]');
    const hostExp = pane.querySelector('[data-role="host_experience"]');
    const hostTypes = pane.querySelector('[data-role="host_pet_types"]');
    const hostServ = pane.querySelector('[data-role="host_services"]');
    const hostRate = pane.querySelector('[data-role="host_rate"]');
    if (hostName?.value) params.set('name', hostName.value.trim());
    if (hostEmail?.value) params.set('email', hostEmail.value.trim());
    if (hostLocal?.value) params.set('locality', hostLocal.value.trim());
    if (hostExp?.value) params.set('experience', hostExp.value);
    if (hostTypes && hostTypes.selectedOptions?.length)
      params.set('petTypes', Array.from(hostTypes.selectedOptions).map(o => o.value).join(','));
    if (hostServ && hostServ.selectedOptions?.length)
      params.set('services', Array.from(hostServ.selectedOptions).map(o => o.value).join(','));
    if (hostRate?.value) params.set('rate', hostRate.value);

    // Provider fields
    const spRate = pane.querySelector('[data-role="sp_rate"]');
    const spRadius = pane.querySelector('[data-role="sp_radius"]');
    const spExp = pane.querySelector('[data-role="sp_experience"]');
    if (spRate?.value) params.set('sp_rate', spRate.value);
    if (spRadius?.value) params.set('sp_radius', spRadius.value);
    if (spExp?.value) params.set('sp_experience', spExp.value);

    if (service.value === 'walking') {
      if (walkDate?.value) params.set('date', walkDate.value);
      if (walkTime?.value) params.set('time', walkTime.value);
    } else {
      if (fromI?.value) params.set('from', fromI.value);
      if (toI?.value) params.set('to', toI.value);
    }

    window.location.href = `${base}?${params.toString()}`;
  });
}


  document.addEventListener('DOMContentLoaded', () => {
    wireUnifiedForm('unifiedSearchFormDesktop');
    wireUnifiedForm('unifiedSearchFormMobile');
  });

    // Wire both forms
    document.addEventListener('DOMContentLoaded', () => {
      wireUnifiedForm('unifiedSearchFormDesktop');
      wireUnifiedForm('unifiedSearchFormMobile');
    });

    // ---------------- Simple navigation (unchanged) ----------------
    function brandsJoinSafe(arr) { return (arr || []).join(',').replace(/^,|,$/g, ''); }
    function goToSearchSitters() {
      const from = document.getElementById('fromDate')?.value || '';
      const to = document.getElementById('toDate')?.value || '';
      const location = document.getElementById('location')?.value || '';
      const breedEl = document.getElementById('breed');
      const breeds = breedEl ? Array.from(breedEl.selectedOptions).map(o => o.value).filter(Boolean) : [];
      const ageEl = document.getElementById('boardingAge');
      const age = ageEl ? (ageEl.value || 'any') : 'any';
      if (!from || !to || !location || breeds.length === 0) { alert("Please fill all required fields: dates, location, and breed."); return; }
      const params = new URLSearchParams({ from, to, location, breed: brandsJoinSafe(breeds), pets: String(boardingCount), age });
      window.location.href = `search_sitters.html?${params.toString()}`;
    }
    function goToSearchWalkers() {
      const breed = document.getElementById('breed-walking')?.value || '';
      const theLocation = document.getElementById('location-walking')?.value || '';
      const fromTime = document.getElementById('walkFromTime')?.value || '';
      const toTime = document.getElementById('walkToTime')?.value || '';
      const fromDate = document.getElementById('walkFromDate')?.value || '';
      const toDate = document.getElementById('walkToDate')?.value || '';
      const duration = document.getElementById('walkDuration')?.value || '';
      if (!breed || !theLocation || !fromTime || !toTime || !fromDate || !toDate || !duration) { alert("Please fill in all the fields for Dog Walking."); return; }
      const params = new URLSearchParams({ breed, location: theLocation, fromTime, toTime, fromDate, toDate, duration, dogs: String(walkingCount) });
      window.location.href = `search-walkers-page.html?${params.toString()}`;
    }

    // Become a Sitter visibility (unchanged)
    (function () {
      const isUserSignedUp = localStorage.getItem("petbnb_user_signedup") === "true";
      const sitterWrap = document.getElementById("becomeSitterWrap");
      if (isUserSignedUp && sitterWrap) { sitterWrap.style.display = "block"; }
    })();
  </script>


  <script>
    /* ========= Sliding pill + tab wiring (Desktop + Mobile) ========= */
    function setupSlidingTabs(container, buttons, getActiveIndex) {
      if (!container || !buttons.length) return;
      // Create indicator once
      let ind = container.querySelector('.seg-indicator');
      if (!ind) {
        ind = document.createElement('div');
        ind.className = 'seg-indicator';
        container.prepend(ind);
      }
      function move() {
        const idx = getActiveIndex();
        const btn = buttons[idx] || buttons[0];
        if (!btn) return;
        // Match width to target button (handles responsive)
        ind.style.width = btn.offsetWidth + 'px';
        // IMPORTANT: use the button's own offsetLeft (no subtraction)
        ind.style.transform = `translateX(${btn.offsetLeft}px)`;
      }
      window.addEventListener('resize', move);
      // Run after layout/fonts load
      requestAnimationFrame(move);
      window.addEventListener('load', move);
      return move;
    }

    // ---------- Mobile radios with sliding indicator ----------
    // ---------- Mobile radios (no sliding indicator) ----------
    (function () {
      const mobForm = document.getElementById('unifiedSearchFormMobile');
      if (!mobForm) return;

      const radios = Array.from(mobForm.querySelectorAll('.btn-check[name^="role"]'));
      const labels = radios.map(r => mobForm.querySelector('label[for="' + r.id + '"]')).filter(Boolean);

      function sync() {
        labels.forEach((lab, i) => {
          lab.classList.toggle('active', radios[i].checked);
        });
      }

      radios.forEach(r => r.addEventListener('change', sync));
      sync();
    })();

  </script>

  <script>
    (function () {
      var tabs = document.querySelector('#unifiedSearchFormDesktop [data-tabs]');
      if (!tabs) return;
      var ind = tabs.querySelector('.seg-indicator');
      if (ind) ind.remove();
    })();
  </script>


<script>
  (function () {
    // current file (e.g., "about-us.html"), ignoring query/hash
    const path = location.pathname.split("/").pop() || "index.html";
    const clean = (href) => (href || "").split("#")[0].split("?")[0].split("/").pop();

    document.querySelectorAll(".navbar .nav-link").forEach((a) => {
      const hrefFile = clean(a.getAttribute("href"));
      // Match exact file OR match base file when current has a hash
      if (hrefFile && (hrefFile === path || (path === "" && hrefFile === "index.html"))) {
        a.classList.add("active");
        a.setAttribute("aria-current", "page");
      }
      // Special case: links like contact-us.html#FAQs should still light up on contact-us.html
      if (!a.classList.contains("active") && path && hrefFile && path.startsWith(hrefFile)) {
        a.classList.add("active");
        a.setAttribute("aria-current", "page");
      }
    });
  })();
</script>

<script>
/* ===== Keep-one-open + auto-advance logic for all accordions ===== */
document.addEventListener('DOMContentLoaded', () => {
  const ACCORDION_IDS = [
    'ppAccordion','hostAccordion','spAccordion',
    'ppAccordionMob','hostAccordionMob','spAccordionMob'
  ];

  ACCORDION_IDS.forEach(wireAccordion);

  function wireAccordion(accId) {
    const acc = document.getElementById(accId);
    if (!acc) return;

    const items     = Array.from(acc.querySelectorAll('.accordion-item'));
    const collapses = Array.from(acc.querySelectorAll('.accordion-collapse'));

    // Ensure only one is open at a time via data-bs-parent (already in your HTML)
    // Add "keep one open": when any panel hides, if none is open, open its sibling.
    collapses.forEach(col => {
      col.addEventListener('hide.bs.collapse', () => {
        // Let Bootstrap apply the hide first, then inspect
        setTimeout(() => {
          const anyShown = collapses.some(c => c.classList.contains('show'));
          if (!anyShown) {
            // Prefer the adjacent item; else fallback to the first available
            const item      = col.closest('.accordion-item');
            const nextCol   = item?.nextElementSibling?.querySelector('.accordion-collapse');
            const prevCol   = item?.previousElementSibling?.querySelector('.accordion-collapse');
            const targetCol = nextCol || prevCol || collapses.find(c => c !== col);
            if (targetCol) bootstrap.Collapse.getOrCreateInstance(targetCol, { toggle: false }).show();
          }
        }, 0);
      });
    });

    // Auto-advance from first ("Personal details") to next when:
    // a) All required fields filled/valid, OR
    // b) User presses Enter inside the Locality input.
    const firstItem     = items[0];
    const firstCollapse = firstItem?.querySelector('.accordion-collapse');
    const nextCollapse  = items[1]?.querySelector('.accordion-collapse');

    if (firstCollapse && nextCollapse) {
      const personalInputs = firstCollapse.querySelectorAll('input,select,textarea');

      const isFulfilled = (el) => {
        // Treat data-role="location" as required, even if 'required' missing
        const must = el.hasAttribute('required') || el.matches('[data-role="location"]');
        if (!must) return true;
        const val = (el.value || '').trim();
        if (!val) return false;
        return typeof el.checkValidity === 'function' ? el.checkValidity() : true;
      };

      const openNext = () => {
        const inst = bootstrap.Collapse.getOrCreateInstance(nextCollapse, { toggle: false });
        inst.show();
        
      };

      // a) When all fields valid -> open next
      const maybeOpenNext = () => {
        const ok = Array.from(personalInputs).every(isFulfilled);
        if (ok) openNext();
      };
      personalInputs.forEach(el => {
        ['input','change','blur'].forEach(evt => el.addEventListener(evt, maybeOpenNext));
      });

      // b) Pressing Enter in Locality -> open next immediately (if non-empty)
      const locality = firstCollapse.querySelector('input[data-role="location"]');
      if (locality) {
        locality.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            if ((locality.value || '').trim()) openNext();
          }
        });
      }
    }
  }
});
</script>

<script>
  // Switch both forms to a given role and scroll to the visible one
  function switchUnifiedRole(role) {
    const forms = document.querySelectorAll('#unifiedSearchFormDesktop, #unifiedSearchFormMobile');
    forms.forEach(f => f._setUnifiedRole && f._setUnifiedRole(role));

    // pick which form is visible (desktop vs mobile)
    const target =
      document.querySelector('.d-desktop-card .hero-form-card:visible') ||
      document.querySelector('#unifiedSearchFormDesktop') ||
      document.querySelector('#unifiedSearchFormMobile');

    // Smooth scroll to the form container
    const el = document.querySelector('.d-desktop-card .hero-form-card') ||
               document.getElementById('unifiedSearchFormDesktop') ||
               document.getElementById('unifiedSearchFormMobile');
    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  // Wire all service CTAs
  document.addEventListener('click', function (e) {
    const t = e.target.closest('[data-go-role]');
    if (!t) return;
    e.preventDefault();
    const role = t.getAttribute('data-go-role'); // "host" or "provider"
    switchUnifiedRole(role);

    // Optional: if they clicked "Walking" or "Training", pre-select on provider pane
    // (Only does something if Services pane is active and the select exists.)
    const text = (t.closest('.services-section')?.querySelector('h3')?.textContent || '').toLowerCase();
    let desiredService = null;
    if (role === 'provider') {
      if (text.includes('walking')) desiredService = 'walking';
      else if (text.includes('training')) desiredService = 'training';
    }
    if (desiredService) {
      document.querySelectorAll('#unifiedSearchFormDesktop, #unifiedSearchFormMobile')
        .forEach(f => f._selectService && f._selectService(desiredService));
    }
  });
</script>

<script>
  // Which unified form is currently visible based on breakpoint
  function getVisibleFormEl() {
    // Bootstrap lg breakpoint (same you used)
    return window.matchMedia("(min-width: 992px)").matches
      ? document.getElementById("unifiedSearchFormDesktop")
      : document.getElementById("unifiedSearchFormMobile");
  }

  // Smooth scroll with sticky navbar offset
  function smoothScrollTo(el, offset = 88) {
    if (!el) return;
    const target = el.closest('.hero-form-card') || el;
    const y = target.getBoundingClientRect().top + window.pageYOffset - offset;
    window.scrollTo({ top: y, behavior: "smooth" });
  }

  // Switch panes and optionally preselect a service, then scroll to the form
  function switchUnifiedRole(role, presetService) {
    const forms = document.querySelectorAll("#unifiedSearchFormDesktop, #unifiedSearchFormMobile");
    forms.forEach(f => f._setUnifiedRole && f._setUnifiedRole(role));

    const activeForm = getVisibleFormEl();
    if (presetService && activeForm && activeForm._selectService) {
      activeForm._selectService(presetService);
    }

    // Wait a tick so layout/accordion updates settle, then scroll
    setTimeout(() => smoothScrollTo(activeForm, 88), 10);
  }

  // Helper to infer service from the Services section title, if needed
  function inferServiceFromCard(el) {
    const title = (el.closest('.services-section')?.querySelector('h3')?.textContent || '').toLowerCase();
    if (title.includes('walking')) return 'walking';
    if (title.includes('training')) return 'training';
    // Sitting uses provider form but no specific preset
    return null;
  }

  // Click handler for all Register CTAs
  document.addEventListener("click", function (e) {
    const btn = e.target.closest("[data-go-role]");
    if (!btn) return;

    e.preventDefault();

    const role = btn.getAttribute("data-go-role");      // "host" or "provider"
    // Optional explicit service: add data-go-service="walking" / "training" on buttons if you want
    const explicitService = btn.getAttribute("data-go-service");
    const inferredService = explicitService || inferServiceFromCard(btn);

    switchUnifiedRole(role, inferredService);
  });
</script>

<script>
/**
 * Advance to the next accordion panel ONLY when user presses Enter
 * inside the first ("Personal details") panel and it's valid.
 * Works for: desktop & mobile, Parent/Host/Provider.
 */
document.addEventListener('DOMContentLoaded', () => {
  const ACCORDION_IDS = [
    'ppAccordion','hostAccordion','spAccordion',
    'ppAccordionMob','hostAccordionMob','spAccordionMob'
  ];

  ACCORDION_IDS.forEach(wireEnterToAdvance);

  function wireEnterToAdvance(accId) {
    const acc = document.getElementById(accId);
    if (!acc) return;

    const items = Array.from(acc.querySelectorAll('.accordion-item'));
    if (!items.length) return;

    const firstItem      = items[0];
    const firstCollapse  = firstItem.querySelector('.accordion-collapse');
    const firstHeaderBtn = firstItem.querySelector('.accordion-button');
    const nextCollapse   = (items[1] && items[1].querySelector('.accordion-collapse')) || null;

    if (!firstCollapse || !firstHeaderBtn || !nextCollapse) return;

    // 1) Stop ANY accidental auto-close of "Personal details"
    //    unless (a) user clicked its own header, or (b) we set a one-time flag.
    firstCollapse.addEventListener('hide.bs.collapse', (ev) => {
      const userClickedHeader =
        document.activeElement && firstHeaderBtn.contains(document.activeElement);

      // Allow manual header toggle
      if (userClickedHeader) return;

      // Allow a single auto-hide when we advance via Enter
      if (firstCollapse.dataset.allowHideOnce === 'true') {
        delete firstCollapse.dataset.allowHideOnce;
        return;
      }

      // Otherwise: keep it open
      ev.preventDefault();
      ev.stopPropagation();
    });

    // 2) Capture Enter inside the first panel
    firstCollapse.addEventListener('keydown', (e) => {
      if (e.key !== 'Enter' || e.shiftKey) return;

      // Prevent form submit and inline "click" side effects
      e.preventDefault();
      e.stopPropagation();

      const invalid = getFirstInvalid(firstCollapse);
      if (invalid) {
        markInvalid(invalid);
        invalid.focus();
        return;
      }

      // Mark that we’re intentionally advancing; allow the first panel to close once.
      firstCollapse.dataset.allowHideOnce = 'true';

      // Open next panel (Bootstrap closes the first because of data-bs-parent)
      const inst = bootstrap.Collapse.getOrCreateInstance(nextCollapse, { toggle: false });
      inst.show();

      // Scroll the newly opened panel nicely into view (account for sticky header)
      setTimeout(() => {
        const y = nextCollapse.getBoundingClientRect().top
      }, 50);
    });
  }

  // ----- Helpers -----
  function getFirstInvalid(scope) {
    // Treat [data-role="location"] as required even if not marked
    const required = scope.querySelectorAll(
      'input[required], select[required], textarea[required], [data-role="location"]'
    );

    for (const el of required) {
      const val = (el.value || '').trim();
      const ok = val && (typeof el.checkValidity === 'function' ? el.checkValidity() : true);
      if (!ok) return el;
    }
    return null;
  }

  function markInvalid(el) {
    // Bootstrap invalid styles
    el.classList.add('is-invalid');
    // Clean up after a moment
    setTimeout(() => el.classList.remove('is-invalid'), 1200);
  }
});
</script>


<!-- <script>
/**
 * Auto-advance accordions:
 * - When the first ("Personal details") panel is complete, open the next panel.
 * - If user closes the first panel, immediately open the next panel.
 *
 * Works for any accordion with class .faq-accordion.
 */
document.addEventListener('DOMContentLoaded', function () {
  // Wire all accordions you use (desktop + mobile)
  document.querySelectorAll('.faq-accordion').forEach(wireAccordionAutoAdvance);

  function wireAccordionAutoAdvance(accordion) {
    const items = Array.from(accordion.querySelectorAll('.accordion-item'));
    if (!items.length) return;

    // Assume first item is "Personal details"
    const firstItem = items[0];
    const firstCollapse = firstItem.querySelector('.accordion-collapse');
    if (!firstCollapse) return;

    // NEXT item (may be null if only one)
    const nextItem = items[1] || null;
    const nextCollapse = nextItem ? nextItem.querySelector('.accordion-collapse') : null;

    // 1) If first panel hides, open next automatically
    if (nextCollapse) {
      firstCollapse.addEventListener('hide.bs.collapse', function (ev) {
        // Let it close, then show next
        setTimeout(() => {
          const inst = bootstrap.Collapse.getOrCreateInstance(nextCollapse, { toggle: false });
          inst.show();
          smoothScrollInto(nextCollapse);
        }, 0);
      });
    }

    // 2) When first panel is "complete", open next
    // Define "complete": all [required] fields valid + any data-role="location" has a non-empty value.
    const personalPanel = firstCollapse;
    const personalInputs = personalPanel.querySelectorAll('input, select, textarea');

    const isFieldFulfilled = (el) => {
      // Treat data-role="location" as required even if not marked
      const isLocation = el.matches('[data-role="location"]');
      const isRequired = el.hasAttribute('required') || isLocation;

      if (!isRequired) return true;

      const val = (el.value || '').trim();
      if (!val) return false;

      // native validity for email/number/date/etc.
      if (typeof el.checkValidity === 'function') {
        return el.checkValidity();
      }
      return true;
    };

    let autoOpened = false;
    const maybeOpenNext = () => {
      if (!nextCollapse || autoOpened) return;
      const allGood = Array.from(personalInputs).every(isFieldFulfilled);
      if (allGood) {
        autoOpened = true;
        // Open the next panel (this will auto close the first because of data-bs-parent)
        const inst = bootstrap.Collapse.getOrCreateInstance(nextCollapse, { toggle: false });
        inst.show();
        smoothScrollInto(nextCollapse);
      }
    };

    // Listen to user input in personal section
    personalInputs.forEach((el) => {
      ['input','change','blur'].forEach(evt => el.addEventListener(evt, maybeOpenNext));
    });

    // Helper: smooth scroll so the opened panel is visible
    function smoothScrollInto(panelEl) {
      const bodyRect = document.body.getBoundingClientRect();
      const rect = panelEl.getBoundingClientRect();
      const y = rect.top - bodyRect.top - 90; // offset for sticky header if any
      window.scrollTo({ top: y, behavior: 'smooth' });
    }
  }
});
</script> -->

</body>

</html>